<div class="container mt-4">
    <h2>Modo infinito</h2>
    <!-- <div *ngIf="!solved">
      <input
        type="text"
        [(ngModel)]="guess"
        (input)="onSearch()"
        (keydown.enter)="onGuess()"
        placeholder="Adivina el boss..."
        class="form-control"
      />
  
      <ul *ngIf="filteredBosses.length > 0 && guess" class="list-group mt-2">
        <li
          *ngFor="let boss of filteredBosses"
          class="list-group-item list-group-item-action d-flex align-items-center"
          (click)="selectSuggestion(boss.name)"
        >
          <div
            style="width: 50px; height: 50px; overflow: hidden; border-radius: 4px; margin-right: 10px; flex-shrink: 0;"
          >
            <img
              [src]="boss.image"
              alt="Imagen"
              style="width: 100%; height: 100%; object-fit: cover;"
            />
          </div>
          <span>{{ boss.name }}</span>
        </li>
      </ul>
    </div> -->
    <app-boss-search *ngIf="!solved" [attempts]="attempts" (selectedBoss)="onBossSelected($event)"></app-boss-search>
  
    <table class="table table-bordered" *ngIf="attempts.length > 0">
      <thead>
        <tr>
          <th>Foto</th>
          <th>Nombre</th>
          <th>Juego</th>
          <th>Vida</th>
          <th>Almas</th>
          <th>√Årea</th>
          <th>Figuras</th>
          <th>Altura</th>
          <th>Dificultad</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let attempt of attempts" [ngClass]="{ 'table-success': attempt.image === boss.image }">
          <td
            [ngClass]="isMatch('image', attempt) ? 'bg-success text-white' : 'bg-danger text-white'"
            style="width: 80px; height: 80px; padding: 0;"
          >
            <img
              *ngIf="attempt.image"
              [src]="attempt.image"
              alt="Imagen"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
          </td>
          <td [ngClass]="isMatch('name', attempt) ? 'bg-success text-white' : 'bg-danger text-white'">
            {{ attempt.name }}
          </td>
          <td [ngClass]="isMatch('game', attempt) ? 'bg-success text-white' : 'bg-danger text-white'">
            {{ attempt.game }}
          </td>
          <td [ngClass]="{ 'bg-success text-white': attempt.health === boss.health }">
              {{ attempt.health }}
              <span [innerHTML]="compareHealth(attempt)"></span>
          </td>              
          <td [ngClass]="{ 'bg-success text-white': attempt.souls === boss.souls }">
              {{ attempt.souls }}
              <span [innerHTML]="compareSouls(attempt)"></span>
          </td>
          <td [ngClass]="isMatch('area', attempt) ? 'bg-success text-white' : 'bg-danger text-white'">
              {{ attempt.area }}
          </td>
          <td [ngClass]="getFiguresClass(attempt)">
            {{ attempt.figures?.join(', ') }}
          </td>
                      
          <td [ngClass]="isMatch('height', attempt) ? 'bg-success text-white' : 'bg-danger text-white'">
              {{ attempt.height }}
          </td>
          <td [ngClass]="isMatch('difficulty', attempt) ? 'bg-success text-white' : 'bg-danger text-white'">
            {{ attempt.difficulty }}
          </td>
        </tr>
      </tbody>
    </table>        
  
      <div *ngIf="solved" class="alert alert-success">
        ¬°Correcto! Has adivinado el boss üéâ
      </div>
      
      <div *ngIf="solved" class="mt-3 d-flex justify-content-center">
        <button class="btn btn-success" (click)="reiniciar()">Restart</button>
      </div>      
      
  </div>
  